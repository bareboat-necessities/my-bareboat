= Bareboat Necessities Documentation
mgrouch <mgrouch@users.noreply.github.com>
0.5, Dec 2, 2019, Bareboat Projects Documentation
:toc:
:toclevels: 4
:sectnums:
:sectnumlevels: 3
:encoding: utf-8
:lang: en
:title-logo-image: image:../../bareboat-necessities-logo.svg[Bareboat Necessities Logo]
:imagesdir: images
:icons: font
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]
:toc-placement!:

{zwsp} +

image::../../bareboat-necessities-logo.svg[Bareboat Necessities Logo]

{zwsp} +

https://github.com/bareboat-necessities/my-bareboat

{zwsp} +

toc::[]

{zwsp} +

== Boat Electronics Project

This document describes a DIY project of building a boat computer and a cockpit display
from easily obtainable and affordable components. The computer includes:

* GNSS (GPS, etc) receiver
* Sensors for orientation (gyroscope, compass via IMU)
* AIS radar
* Environment temperature, barometric pressure, humidity sensors
* Connections to the boat instruments such as wind, depth, speed via NMEA 0183 serial ports
* Optional autopilot integration
* Other NMEA devices
* Optional WiFi hotspot and router with WiFi extender and long range waterproof WiFi antenna
* Optional air mouse with a wireless keyboard and a touchpad
* Lightning EMI sensor and alarm
* RTL-SDR for weather fax, AIS, etc

The computer is connected to the waterproof HDMI touchscreen in
the cockpit. NMEA 2000 was not in scope of this project.

=== Boat Computer

The computer runs on Raspberry Pi (Raspbian Linux) with OpenPlotter 2.0 installed. The computer will reside below deck so
it's not going to be waterproof. The touchscreen displays OpenPlotter UI with OpenCPN chart plotter and dashboards as well as
general Linux UI.

Front View

image::computer-front-panel.jpg[Front View]

The front panel interfaces:

* 1 USB 3.0 data port
* 1 USB 2.0 data port
* 1 HDMI port
* 1 AUX audio port
* Status indicators via fiber-optic light pipes
* Fuse box (panel mount?)
* On/Off power switch for the computer
* On/Off power switch for cockpit instruments

The back panel interfaces:

* 1 Ethernet port 1Gbit (for the WiFi router)
* 1 USB 2.0 port for GPS (or something else)
* 2 NMEA-0183 ports
* 2 DC power 2-wire cords mounted inside waterproof glands for 12v boat and cockpit connections
* HDMI and USB 3.0 connectors to the cockpit display and touchscreen
* RF connector for AIS antenna
* RF connector for RTL-SDR antenna
* RF connector for a secondary GPS

Inside View

image::computer-internals.jpg[Inside View]

On the picture 7-Port powered USB 3.0 hub, dAISy AIS, Raspberry Pi 4 with a cooling fan and heat sinks,
serial-to-USB stick (with the chipset from FTDI), SSD, RTL-SDR RF stick. 12v to 5v step-down converter is
located below this layer inside the housing box and is connected to the front panel via a fuse and
a switch on the front panel.

You can customize the front and back panels for your needs.

==== Simple Schematics

image::boat-computer.svg[alt=Boat Computer Diagram]

Raspberry Pi 4 has also WiFi and BlueTooth interfaces:

* 802.11ac/n
* Bluetooth 5.0

WiFi can be used to set up access to the boat computer from smart phones and tablets
with additional software.

==== Enclosure

===== Enclosure Parts

. Case
+
Brand: SZOMK,  Model: AK-D-09, IP54 protection, plastic box for PCB design instrument. Black.
Dimentions exterior: W 230mm, D 210mm, H 86mm
+
Brand (from inside markings): BAHAR
+
Model: BDH 20014-A2
+
https://szomk.en.alibaba.com/product/60455131585-213058437/Customized_case_box_enclosure_for_gsm_modem_plastic_enclosures.html
+
 Cost: $17.10, Delivery: $13, Source: Alibaba

. Plastic sheets
+
ABS Black Plastic Sheets Size 12" x 12", 0.118"-1/8" thick, 2-Pack, 1 Side Textured, Black
+
https://www.ebay.com/itm/ABS-Black-Plastic-Sheets-You-Pick-The-Size-1-2-4-8-Pack-Options-1-Side-Textured/142746168237
+
 Cost: $19.20, Source: Ebay

. 12v to 5v step-down converter
+
TOBSUN EA50-5V DC 12V 24V to DC 5V 10A 50W Converter Regulator 5V 50W Power Supply Step Down Module Transformer
+
* Convert unstable 12/24V DC power supply into stable 5V 10A DC power output
* Over-voltage, over-current, over-temperature, short-circuit auto protection, and can return to normal conditions in the work
* Essential for car audio system or other 5V car products (particularly useful in vehicles with 24V power supply)
* Input voltage: 12/24V, Output: 5V/10A
* Widely used in automotive, surveillance systems, railway signals, medical equipment, instruments and meters,
LED products, LED strips, cable TV and other low power test systems
+
 Cost: $9.60, Source: Amazon

. Screws, Nuts

. Stand-offs

. Cable ties

===== Front Panel

image::front-panel.svg[alt=Front Panel Diagram]

. 2-Wire DC connector
+
SAE Connector DC Power Extension Cable 16 AWG Automotive Battery Quick Disconnect Pigtail Wire Harness with Dust Cap (6 Pcs 1.2 Foot)
+
* Application:SAE to SAE extension cable single head plug, with tinned ends. for solar battery, automotive, motorcycles, lawnmowers, truck power connection and transfer.
* With Dust Cap: Protecting standard SAE type connector from rain and dust, which stay clean and dry inside when you don't use it.
* Cable Specification: SPT-2, 16AWG/2C, 1.2 Feet. Heavy duty, thickness, flexible and durable.
* Easy To Use: Standard SAE type plug, Fits most battery chargers with SAE quick release connectors, Tinned ends is easy to connect and weld.
* Package: 6 pcs 1.2 Ft SAE pigtail wire power cable and 6 pcs dust cap.
+
https://amzn.com/B07MP9MYKP
+
 Cost: $13, Source: Amazon

. USB 2.0 / HDMI
+
USB 2.0 HDMI Mount Cable – USB Extension Flush, Dash, Panel Mount Cable,
for Car, Boat, Motorcycle and More (3.3FT/1m)

 Cost: $10, Source: Amazon

. USB 3.0 / AUX
+
USB 3.0 & Car Mount Flush Cable + USB3.0 AUX Extension Dash Panel Waterproof Mount Cable
For Car Boat and Motorcycle - 3ft

 Cost: $10, Source: Amazon

. Panel, etc
+
Dual USB Socket Charger 2.1A&2.1A + LED Voltmeter + 12V Power Outlet + 5 Gang ON-Off Toggle Switch
Multi-Functions Panel for Car Boat Marine RV Truck Camper Vehicles GPS Mobiles

 Cost: $34, Source: Amazon
+
Used for panel parts: Voltmeter, Switches, Fuses, 12v DC Wires

. Fiber optic light pipes with lenses for panel mount for transfer of inside LED indicators light
to the front panel
+
SMFLP12.0 492-1291-ND LIGHT PIPE CLEAR FLEXIBLE 12" (10 pack)
+
Brand: Bivar Inc

 Cost: $28, Delivery: $9, Source: DigiKey

. Fuse Box for Panel Mount
+
Pack of 10 AC 15A 125V Black Electrical Panel Mounted Screw Cap Fuse Holder
+
* Panel mounted fuse holder
* Fit for: 6 x 30mm fuses; Rated: AC 125V 15A
* Material: plastic and metal
* With screw cap and solder-lug terminals
* Package content : 10 x panel mount fuse holder
+
https://amzn.com/B012CTCWES/

 Cost: $6.00,  Source: Amazon

===== Back Panel

. RF connector for RTL-SDR to panel
+
SMA Male to UHF PL-259 Male RG316 RF Coaxial Coax Cable 1 ft
+
* Impedance: 50 ohm; Cable length: 1 ft
* Ultra Low-loss Double Shielded RG316 Coaxial Cable
* With nickel plated connector body and gold plated brass contacts
* Allows Base & Mobile Antennas to connect to hand-held Antenna Jack
* Package Includes: 1 x SMA Male to UHF PL-259 Male Coax Cable
+
https://amzn.com/B07TF6LZC7

 Cost: $11.30, Source: Amazon

. RF Connector to panel
+
SMA Socket Connector Panel Chassis Mount SMA Female to Female Bulkhead Extendable Antenna Jack Adapter
for Antennas Wireless LAN Devices Coaxial Cable Pack of 2
+
* Antenna cable connector SMA female to female bulkhead jack adapter. Please confirm what type of connector your device is before purchasing.
* Help you connect SMA male to male converter or external cable, commonly used in RF Applications, Antennas, Wireless LAN Devices , Coaxial cable, Wi-Fi Radios External Antenna and so on, >1000 Times Mating Life Time.
* Barrel connectors have a knurled grip which comes in handy while tightening SMA connectors to the barrel
* Connector Material: Pure brass with Great connectivity (Not Alloy), Surface treatment: Gold-plated, Impedance: 50ohm, Low-loss
* Package included : 2 pieces SMA Female to Female bulkhead adaptors
+
https://amzn.com/B07FKPJ4QQ
+
 Cost: $6.00, Source: Amazon

. RJ45
+
CAT6 RJ45 Shielded Industrial Panel Mount Bulkhead Female/Female Feed Thru Coupler -
Network Connectors - IP67 Waterproof/Dust Cap (Single Pack, Black)
+
 Cost: $11.50, Source: Amazon

. Terminal Block for NMEA 0183
+
Brand Name: QSU
+
Screw Terminal Block Kit Long Pins 5 mm Pitch 2, 3, 4 Pole (40 pcs)
+
https://amzn.com/B07RTHD45H

 Cost: $9.50, Source: Amazon

. USB 2.0 Panel Mount
+
USB2.0 IP67 Waterproof Connector Industrial Standard Double Head Coupler Adapter Female to Female Socket
Plug Panel Mount with Waterproof/Dust Cap, 2pcs
+
https://amzn.com/B07RPW5XGB/

 Cost: $13.00 for 2, Source: Amazon

. Optional GPS Antenna
+
GPS Boat Antenna Compatible with Beidou 30dB SMA Male External Navigation Receiver 0.2 Meter Wire
+
* Increase your signal with this GPS external antenna with built in low noise amplifier (LNA).
* Connector: SMA Male
* Voltage: 3-5 Volt
* Thread: BSP3/4
* Length: 0.2 Meter / 0.65 Feet
* LNA Gain(Without Cable): 30dB
* Operating Temperature(Deg.C): -45~+85
* Storage Temperature(Deg.C): -50~+90
* Center Frequency: 1575.42 MHz(GPS); 1561 MHz(BD)
* Body Size: 96x128mm / 3.78x5.1 inch (Max D*L)
+
https://amzn.com/B07ZBVG1PK

 Cost: $16.25, Source: Amazon

===== Assembly Activities

Make sure you use correct tools for:

* Measuring
* Cutting
* Clamping
* Drilling
* Heat Shrinking
* Tying
* Crimping
* Screwing

===== Tools

 Drill, Screwdriver, Drill bits, Large hole drill bit, Cutting knife, Caliper


==== Computer and Sensors

===== Raspberry Pi 4

image::RaspberryPi_4_Model_B.svg[alt=Raspberry Pi 4 Diagram]

This file is licensed under the Creative Commons Attribution-Share Alike 4.0 International license

https://creativecommons.org/licenses/by-sa/4.0/deed.en

====== Sensors and Parts

. Raspberry Pi 4, 4Gb

. Heat sinks and Cooling fan

. Pi Case for mounting cooling fan

. USB Hub

. FTDI Serial to USB (2)

. SSD Drive

. SD Card

. 12v to 5v

. GPS mouse

. dAISy AIS

. RTL-SDR

. IMU + environmental sensors

===== Assembly Activities

Make sure you use correct tools for:

* Gluing
* Soldering
* Screwing

=== Cockpit Display and Chartplotter

image::cockpit-display.svg[alt=Cockpit Display Diagram]

. Female to Female HDMI adapter
+
https://amzn/B07K6HKD8S/

 Cost: $4.75, Source Amazon

=== Boat WiFi Network

. WiFi Router
+
GL.iNet GL-AR750 Travel AC Router, 300Mbps(2.4G)+433Mbps(5G) Wi-Fi, 128MB RAM, MicroSD Storage Support, OpenWrt/LEDE pre-Installed, Power Adapter and Cables Included
+
* DUAL BAND AC ROUTER: Simultaneous dual band with wireless speed 300Mbps(2.4G)+433Mbps(5G). Convert a public network(wired/wireless) to a private Wi-Fi for secure surfing.
* OPEN SOURCE & PROGRAMMABLE: OpenWrt/LEDE pre-installed, backed by software repository.
* OPENVPN CLIENT: OpenVPN client pre-installed, compatible with 25+ VPN service providers.
* LARGER STORAGE & EXTENSIBILITY: 128MB RAM, 16MB NOR Flash, up to 128GB MicroSD slot, USB 2.0 port, three Ethernet ports, and optional PoE module (sold separately).
* PACKAGE CONTENTS: GL-AR750 travel router (1-year Warranty), Power adapter, USB cable, Ethernet cable and User Manual.
* Please update the latest firmware at the following link before using: https://dl.gl-inet.com/firmware/ar750/v1/
+
https://amzn.com/B07712LKJM

 Cost: $45.00, Source: Amazon

. Waterproof Fiberglass WiFi Antenna
+
Outdoor Omni Directional Antenna Fiberglass 2.4GHz 8dBi N Female Connector for Cell Phone Signal Booster WiFi Router
+
* Complies with all 802.11n/b/g (2.4GHz) products.
* High Power,high gain outdoor wifi antenna.
* Extend coverage of your wireless network in all directions
* Waterproof,striking resistant,anti-corrosion.
* Frequency range (MHz): 2400-2500
* Bandwidth (Mhz): 83
* Gain (dBi): 8
* Half-power beam width(°): H:360, V:12
* VSVR: ≤1.5
* Input Impedance (Ω): 50
* Polarization: Vertical
* Maximum input power (W): 100
* Lightning protection: DC Ground
* Input connector type: N Female
* Dimensions (mm): 20 * 550mm/0.8"x22"(Diameter * Length)
* Weight (lb): 0.7
* Operating temperature (℉)：-40℉ - 140℉/-40℃-60℃/
* Rated Wind Velocity (m/s): 60
* Radome color: Gray
* Mounting way: Pole-holding
* Material: Fiberglass
+
This is a cheap antenna. Let's see if we can get 1 mile range out of it. More expensive options would be
Ubiquiti bullet + antenna connected via PoE ($120 at least).
+
https://amzn.com/B07PG8RPSL/

 Cost: $36.00, Source: Amazon
