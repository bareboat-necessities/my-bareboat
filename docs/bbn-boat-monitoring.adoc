= Bareboat Necessities (BBN) Boat Monitoring
mgrouch <mgrouch@users.noreply.github.com>
{docdate}, Bareboat Necessities Boat Monitoring
:imagesdir: images
:keywords: openplotter, opencpn, signalK, nmea, marine
:description: BBN Boat Monitor is a free open source software for esp32. \
With BBN Boat Monitor you can receive various alarms from your boat when it's left unattended.
:doctype: book
:organization: Bareboat Necessities
:title-logo-image: image:bareboat-necessities-logo.svg[Bareboat Necessities Logo]
ifdef::backend-pdf[]
:source-highlighter: rouge
:toc-placement!: manual
:pdf-page-size: Letter
:plantumlconfig: plantuml.cfg
endif::[]
ifndef::backend-pdf[]
:toc-placement: left
endif::[]
:experimental:
:reproducible:
:toclevels: 4
:sectnums:
:sectnumlevels: 3
:encoding: utf-8
:lang: en
:icons: font
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]
:env-github:

{zwsp} +

ifndef::backend-pdf[]

image::bareboat-necessities-logo.svg[Bareboat Necessities Logo]

{zwsp} +

endif::[]

https://bareboat-necessities.github.io

https://github.com/bareboat-necessities/lysmarine_gen

https://github.com/bareboat-necessities/lysmarine_gen/issues

https://bareboat-necessities.wixsite.com/my-bareboat

https://github.com/bareboat-necessities/bbn-m5stack-tough

https://github.com/bareboat-necessities/bbn-nmea200-m5atom

{zwsp} +

PDF version:

https://bareboat-necessities.github.io/my-bareboat/bbn-boat-monitoring.pdf


{zwsp} +

toc::[]

== What is BBN Boat Monitoring

BBN Boat Monitoring is a low-power solution to send alarms on various conditions from an unattended boat.

In the center is esp32 with Ethernet module connected wired to a boat router.
Alarms are sent via WhatsApp messenger.

Modular design of software and hardware so users can pick and choose needed modules.

== Connectivity

. MDNS discovery of other services gpsd, SignalK, pypilot, etc

. DHCP client

. NTP client

. Web server for configuration

. Uptime reporting (sleeping periods to save power)

. Ethernet to router

. WhatsApp message

. Command line WhatsApp messenger for Linux

. Internet connection speed reporting

== Hardware

esp32 on m5atom-lite or m5atom-lite-S3 from M5Stack. With M5Stack Ethernet AtomPoW (with w5500 chip).

Sensors (pick and choose):

* *Accelerometer*
+
[small]#M5Stack 3-Axis Digital Accelerometer Unit (ADXL345)#

* *IMU*
+
[small]#M5Stack 6-DoF IMU Pro Mini Unit (BMI270, BMM150, BMP280)#
+
[small]#or#
+
[small]#M5Stack 6-Axis IMU Unit(MPU6886)#

* *Env sensors (temperature, barometer, humidity)*
+
[small]#M5Stack ENV IV Unit with Temperature Humidity Air Pressure Sensor (SHT40+BMP280)#
+
[small]#or#
+
[small]#M5Stack ENV III Unit with Temperature Humidity Air Pressure Sensor (SHT30+QMP6988)#

* *Gas Sensors (CO, heavy gases, hydrogen, smoke detector)*

* *GPS*
+
[small]#M5Stack Mini GPS/BDS Unit (AT6558)#

* *NMEA 0183 interface*
+
[small]#M5Stack Isolated RS485 Unit#

* *NMEA 2000 interface*
+
[small]#M5Stack IsolatedCANBus Unit (CA-IS3050G)#

* *Lightning sensor*
+
[small]#Sparkfun LIGHTNING DETECTOR - AS3935#


* *Voltage sensor*
+
[small]#M5Stack Voltmeter Unit (ADS1115)#

* *Current (amp) meter for bilge pump usage*
+
[small]#M5Stack Ammeter Unit (ADS1115)#

* *Temperature (1w) sensors*
+
[small]#Dallas 1-wire temperature sensors#

* *Motion detection sensors*
+
[small]#M5Stack PIR Motion Sensor (AS312)#

* *Water salinity sensor*

* *Proximity sensors (hatch open/closed sensor)*
+
[small]#M5Stack Hall Effect Unit (A3144E Hall Sensor)#
+
[small]#or#
+
[small]#Magnetic Reed door switch sensor#

* *Snow / ice sensor*
+
[small]#Rain and Snow Sensor Transmitter Weather Induction Detection Heating Anti-icing IP65#

* *Water level sensor*

* *Dinghy LoRa locator*

* *RTC clock*
+
[small]#M5Stack Real Time Clock (RTC) Unit (HYM8563)#


== Alarms (planned)

. Heavy gases in bilge

. High salinity of water in bilge

. Hydrogen gas alarm

. Fire alarm. Smoke detector

. Carbon monoxide alarm

. Hatch open

. High heel or pitch (from IMU)

. High wind alarm

. Lightning storm detected

. Forgot nav lights 'on'

. Motion detected (Intrusion)

. High humidity

. Possible fog conditions

. Snow or ice conditions

. Barometer keeps falling

. Temp alarm (ex: fridge warm)

. Dingy too far

. GPX fix lost

. High current at anchor (by speed through water)

. Low water under keel alarm

. Accelerometer alarm for high waves

. Anchor alarm (plus command line utility to activate and deactivate)

. Grounding alarm from accelerometer

. Hard impact on hull (via accelerometer)

. Heartbeat (ImAlive) WhatsApp message

. Low battery voltage

. Battery overcharging

. High battery temperature

. Shore power loss

. Bilge pump high utilization



